---
general:
  branches:
    ignore:
      - /release.*/
machine:
  java:
    version: oraclejdk8
dependencies:
  override:
    - mvn clean dependency:go-offline install -Dmaven.test.skip=true --fail-never --threads 5 -B
test:
  override:
    - mvn test -T2C -Djacoco.haltOnFailure=true -Dsurefire.rerunFailingTestsCount=2
deployment:
  snapshot:
    branch: vgs-edition
    owner: verygoodsecurity
    commands:
      - mvn deploy -DskipTests=true
